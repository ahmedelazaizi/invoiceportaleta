# برنامج إدارة الفاتورة الإلكترونية المصرية

نظام متكامل لإدارة الفواتير الإلكترونية وإرسالها إلى بوابة الفاتورة الإلكترونية المصرية (ETA) بشكل متوافق مع المعايير الرسمية.

## المميزات الرئيسية

- إدارة الشركات والعملاء والموردين
- إنشاء وإدارة الفواتير الإلكترونية
- التكامل المباشر مع بوابة الفاتورة الإلكترونية المصرية (ETA)
- استيراد وتصدير الفواتير بصيغة Excel
- تقارير شاملة للمبيعات والمشتريات والضرائب
- واجهة مستخدم سهلة الاستخدام ومتوافقة مع جميع الأجهزة
- نظام أمان متكامل مع إدارة المستخدمين والصلاحيات

## متطلبات النظام

### الواجهة الخلفية (Backend)

- Python 3.8+
- FastAPI
- SQLAlchemy
- PostgreSQL/SQLite

### الواجهة الأمامية (Frontend)

- Node.js 14+
- React.js
- Material-UI

## الإعداد والتشغيل

### إعداد الواجهة الخلفية (Backend)

1. إنشاء بيئة افتراضية وتفعيلها:

```bash
python -m venv venv
source venv/bin/activate  # على Linux/Mac
venv\Scripts\activate  # على Windows
```

2. تثبيت المتطلبات:

```bash
cd backend
pip install -r requirements.txt
```

3. إنشاء ملف `.env` بناءً على ملف `.env.example`:

```bash
cp .env.example .env
```

4. تعديل ملف `.env` لإضافة المفاتيح السرية وإعدادات ETA الخاصة بك.

5. تشغيل الخادم:

```bash
uvicorn main:app --reload
```

### إعداد الواجهة الأمامية (Frontend)

1. تثبيت المتطلبات:

```bash
cd frontend
npm install
```

2. إنشاء ملف `.env.local` وإضافة عنوان API الخلفي:

```
REACT_APP_API_URL=http://localhost:8000
```

3. تشغيل خادم التطوير:

```bash
npm start
```

## التكامل مع بوابة الفاتورة الإلكترونية (ETA)

للتكامل مع بوابة ETA، يجب الحصول على:

1. معرف العميل (Client ID) ومفتاح سري (Client Secret) من بوابة ETA
2. شهادة رقمية للتوقيع الإلكتروني
3. تسجيل الشركة في نظام الفاتورة الإلكترونية

يتم إضافة هذه المعلومات في ملف `.env` الخاص بالواجهة الخلفية.

## الأمان

- جميع المفاتيح السرية وبيانات الاعتماد يتم تخزينها في متغيرات البيئة
- استخدام JWT للمصادقة مع توكن تحديث (Refresh Token)
- تشفير كلمات المرور باستخدام bcrypt
- تقييد CORS لمنع الوصول غير المصرح به

## المساهمة في المشروع

نرحب بمساهماتكم لتحسين هذا المشروع. يرجى اتباع الخطوات التالية:

1. عمل Fork للمشروع
2. إنشاء فرع جديد للميزة أو الإصلاح
3. تقديم طلب سحب (Pull Request) مع وصف مفصل للتغييرات

## الترخيص

هذا المشروع مرخص تحت [MIT License](LICENSE).
